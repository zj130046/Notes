
缓存: 消耗非常大的计算
![[Pasted image 20241121203213.png]]

数据发生变化，页面就会重新加载



## 核心目的
### - **`useMemo`**:
    - **作用**：用于性能优化，通过**缓存计算结果**避免不必要的重复计算。
    - **触发时机**：在组件渲染期间根据依赖数组决定是否重新计算值。
    - **返回值**：返回缓存的计算结果。
### - **`useEffect`**:
    - **作用**：用于处理副作用，如数据获取、订阅事件、操作 DOM。
    - **触发时机**：在组件渲染后（commit 阶段）执行。
    - **返回值**：返回一个可选的清理函数（如果提供）。


## 使用场景
### **`useMemo` 的使用场景**:

1. 计算复杂的值时，避免因不必要的计算影响性能。
2. 避免子组件重复渲染（当子组件依赖缓存的值）。

### **`useEffect` 的使用场景**:

1. 数据获取或订阅事件（例如监听窗口大小变化）。
2. 操作 DOM。
3. 处理非渲染期间的副作用逻辑。

## useMemo与useEffect的区别 
![[Pasted image 20241121204217.png]]


