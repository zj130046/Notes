生成器是 Python 中一种特殊的迭代器，使用生成器可以更简洁和高效地创建迭代器。生成器的特点是可以在函数中使用 `yield` 关键字，而不是 `return`。每当调用生成器的 `__next__()` 方法时，函数执行到 `yield` 语句并返回相应的值，保持函数的状态以便下次继续执行。

### 创建生成器

生成器可以通过两种方式创建：使用生成器函数和生成器表达式。

#### 1. 生成器函数

生成器函数定义与普通函数相同，但包含一个或多个 `yield` 语句。以下是一个简单的生成器函数示例：

```
def countdown(n):
    while n > 0:
        yield n
        n -= 1

# 使用生成器
for number in countdown(5):
    print(number)

```
### 输出


```
5
4
3
2
1

```
#### 2. 生成器表达式

生成器表达式是创建生成器的另一种方式，语法类似于列表推导式，但使用圆括号。示例如下：

```
squares = (x * x for x in range(5))

for square in squares:
    print(square)

```

### 输出

```
0
1
4
9
16

```

### 生成器的优点

- **惰性求值**：生成器按需生成值，这意味着只有在实际需要时才会计算下一个值，节省内存。
- **简洁性**：使用 `yield` 语句可以使代码更简洁，避免了显式的迭代器实现。
- **状态保持**：生成器自动记住上次 `yield` 之后的执行状态，无需手动管理迭代器的状态。

### 总结

生成器是 Python 中非常强大的特性，能够以一种简单且高效的方式创建可迭代对象。通过使用 `yield`，生成器函数和表达式可以生成一个惰性序列，适用于需要处理大量数据的场景。




# 迭代器 迭代对象 生成器三者关系
![[Pasted image 20241104211102.png]]